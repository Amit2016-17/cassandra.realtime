image:
  file: .gitpod.dockerfile

tasks:
  # First, install external java packages. Runs only once per gitpod build
  - init: mvn -f ./connect-api-with-kafka-consumers/kafka-to-cassandra-worker/pom.xml clean package

  # Then, start Kafka using confluent community platform

  # Trying doing everything using confluent CLI once
  - command: confluent local start
  
# expose ports we want open
ports:
  - port: 8080

